# Recording and playing back data
* 목표: 토픽에 대해 published된 데이터를 기록하여 언제든지 재생하고 검토할 수 있다.

## Background
ros2 bag는 시스템 안에서 publish된 데이터를 저장하기 위한 명령줄 도구이다. 여러 토픽에 전달된 데이터를 축적하여 데이터베이스에 저장한다. 그런 다음 데이터를 재생하여 테스트 및 실험 결과를 재현할 수 있다. 토픽을 기록하는 것도 work를 공유하고 다른 사람이 다시 만들 수 있도록 하는 좋은 방법이다. 테스트/실험 데이터를 기록하여 추후 재현 또는 공유할 수 있고 로봇 시스템의 동작 로그를 남겨 성능 분석에 유용하다. 
## Tasks
### 1. Setup
turtlesim 시스템에서 저장하고 나중에 재생하기 위해 키보드 인풋을 기록할 것이다. 따라서 /turtlesim 노드와 /teleop_turtle 노드를 실행시킨다.    
그 후 데이터 저장용 디렉토리를 생성한다. (리눅스 기준)
```
$mkdir bag_files
$cd bag_files
```
### 2. Choose a topic
ros2 bag는 토픽에서 published 메시지의 데이터만 기록할 수 있다. 시스템의 토픽 리스트를 보기 위해선 새로운 터미널을 열어 다음의 커멘드를 작성한다.    
```
$ros2 topic list
/parameter_events
/rosout
/turtle1/cmd_vel
/turtle1/color_sensor
/turtle1/pose
```
토픽 튜토리얼에서 /turtle_teleop 노드가 /turtle1/cmd_vel 토픽에 publishes commands를 보내 turtle을 움직이게 한다는 것을 배웠었다. /turtle1/cmd_vel이 게시하는 데이터를 보려면 다음의 명령어를 실행한다. 
